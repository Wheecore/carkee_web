function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function setupResponsive(){console.log("Responsive","containers"),window.fixedSitemapHeadingInit=function(e,t){"tablet"===window.adSubDevice||"mobile"===window.adDevice?($(e).stick_in_parent({parent:t,offset_top:43}),$(".js-sticky-column").trigger("sticky_kit:detach"),$(".js-sticky-column").stick_in_parent({parent:".sitemap__section",offset_top:0})):"desktop"===window.adDevice&&($(e).trigger("sticky_kit:detach"),$(".js-sticky-column").trigger("sticky_kit:detach"),$(".js-sticky-column").stick_in_parent({parent:".sitemap__section",offset_top:25}))},window.fixedSitemapHeading=function(){window.fixedSitemapHeadingInit(".js-sticky-column-secondary",".category__section")},window.generalSidebarFixedInit=function(e,t){"tablet"===window.adSubDevice||"mobile"===window.adDevice?$(e).trigger("sticky_kit:detach"):$(e).stick_in_parent({parent:t,offset_top:40})},window.generalSidebarFixed=function(){window.generalSidebarFixedInit(".js-sticky-sidebar",".terms__section, .faq__section")},window.responsiveSliderOriginDom={},window.responsiveSliderInit=function(e,t){t=t||("mobile"===window.adDevice?1:"tablet"===window.adSubDevice?3:5);var n=e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"_");void 0===window.responsiveSliderOriginDom[n]&&(window.responsiveSliderOriginDom[n]=$(e).clone());var i;t={log:!1,fx:"carousel",timeout:0,carouselVisible:t,carouselFluid:!0,slides:"> .cycle-slide",swipe:!0};"mobile"===window.adDevice&&(t.next=$(e).attr("data-nav-next"),t.prev=$(e).attr("data-nav-prev")),$(e).length&&($(e).replaceWith(window.responsiveSliderOriginDom[n].clone()),$(e).cycle(t),"mobile"!==window.adDevice&&(i="tablet"===window.adSubDevice?3:$(e).attr("data-nav-item-per-slide")?parseInt($(e).attr("data-nav-item-per-slide")):5,setTimeout((function(){window.iCarWidgets.cycleCarouselNav(e,$(e).attr("data-nav-wrapper"),$(e).attr("data-nav-next"),$(e).attr("data-nav-prev"),i)}),500)))},window.responsiveSliders=function(){$(document).on("cycle-post-initialize",".js-recommended-ads-car,.js-recommended-ads-mcycle,.js-latest-cars, .js-latest-ads, .js-recommended-dealers-sliders, .js-auc-ads",(function(){$(".js-recommended-ads-car__wrapper,.js-recommended-ads-mcycle__wrapper,.js-latest-cars__wrapper, .js-latest-ads__wrapper, .js-auc-ads__wrapper, .js-auc-ads-mcycle__wrapper").delay(500).animate({opacity:1},300)})),window.responsiveSliderInit(".js-recommended-ads-car",5<=$(".js-recommended-ads-car").data("total")?null:$(".js-recommended-ads-car").data("total")),window.responsiveSliderInit(".js-recommended-ads-mcycle",5<=$(".js-recommended-ads-mcycle").data("total")?null:$(".js-recommended-ads-mcycle").data("total")),window.responsiveSliderInit(".js-latest-cars",5<=$(".js-latest-cars").data("total")?null:$(".js-latest-cars").data("total")),window.responsiveSliderInit(".js-auc-ads",5<=$(".js-auc-ads").data("total")?null:$(".js-auc-ads").data("total")),window.responsiveSliderInit(".js-auc-ads-mcycle",5<=$(".js-auc-ads-mcycle").data("total")?null:$(".js-auc-ads-mcycle").data("total")),window.responsiveSliderInit(".js-latest-ads",4),window.responsiveSliderInit(".js-recommended-dealers-sliders",5),window.responsiveSliderInit(".js-featured-new-cars",4),window.responsiveSliderInit(".js-latest-new-cars",4),$("img").unveil(),$(".hero__ad > .hero__ad-item").each((function(){var e;$(this).attr("data-image-optimized")&&(e=$(this).attr("data-image-optimized"),$(this).css("background-image","url("+e+")"))}))},window.adDevice="desktop",window.adSubDevice="",window.legacyBrowser?window.responsiveSliders():(ssm.addState({id:"desktop",query:window.iCarAsiaParameters.mediaQueryDesktop,onEnter:function(){window.adDevice="desktop",!(window.adSubDevice="")===window.iCarWidgets.popup.open&&(window.iCarWidgets.popup.current.close(),window.iCarWidgets.popup.open=!1),window.iCarAsiaParameters.compareLimit=window.iCarAsiaParameters.compareLimit,window.responsiveSliders(),window.fixedSitemapHeading(),window.generalSidebarFixed()}}),ssm.addState({id:"tablet",query:window.iCarAsiaParameters.mediaQueryTablet,onEnter:function(){window.adDevice="mobile",window.adSubDevice="tablet",window.responsiveSliders(),window.fixedSitemapHeading(),window.generalSidebarFixed()}}),ssm.addState({id:"mobile",query:window.iCarAsiaParameters.mediaQueryMobile,onEnter:function(){window.adDevice="mobile",window.adSubDevice="",window.responsiveSliders(),window.fixedSitemapHeading(),window.generalSidebarFixed()}}),ssm.addState({id:"tabletMobile",query:window.iCarAsiaParameters.mediaQueryPortable,onEnter:function(){window.adDevice="mobile","undefined"!=typeof googletag&&"function"==typeof window.responsiveAd&&(void 0!==_typeof(googletag.destroySlots)&&"function"==typeof googletag.destroySlots&&googletag.destroySlots(),window.responsiveAd(window.adDevice))},onLeave:function(){window.adDevice="desktop","undefined"!=typeof googletag&&"function"==typeof window.responsiveAd&&(void 0!==_typeof(googletag.destroySlots)&&"function"==typeof googletag.destroySlots&&googletag.destroySlots(),window.responsiveAd(window.adDevice)),window.iCarAsiaParameters.compareLimit=window.iCarAsiaParameters.compareLimit}})),void 0!==window.adUnits&&$.isEmptyObject(window.adUnits)&&window.responsiveAd(window.adDevice)}function setupHistory(){console.log("History","containers"),-1<navigator.userAgent.indexOf("Safari")&&$(window).bind("pageshow",(function(e){e.originalEvent.persisted&&window.location.reload()})),$(document).ready((function(){$(window).on("popstate",(function(e){return window.iCarWidgets.popup.open?(window.iCarWidgets.popup.open=!1,window.iCarWidgets.popup.current.close(),void(!0===window.iCarWidgets.chat.isOpen&&ChatSession.chatDialogView.showDialog())):void(window.iCarWidgets.chat.isOpen&&(window.iCarWidgets.chat.isOpen=!1))}))}))}function setupSlider(){console.log("Slider","containers"),$(".js-cycle-slideshow--carousel").each((function(){$(this).length&&$(this).cycle()}));var e,t=$(".js-cycle-slideshow--carousel");t.length&&((e=function(){var e=t.data("cycle.opts");"desktop"===window.adDevice?e||t.cycle():e&&t.cycle("destroy")})(),$(window).on("resize",(function(){e()})))}function setupPrint(){console.log("Print","containers"),$(".js-print-page").on("click",(function(e){return e.preventDefault(),$(".js-banner-footer").addClass("visuallyhidden"),window.print(),$(".js-banner-footer").removeClass("visuallyhidden"),!1}))}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}window.iCarWidgets.slugify=function(e,t){e=String(e),t=Object(t);var n,i={delimiter:"-",limit:void 0,lowercase:!0,replacements:{},transliterate:!1};for(n in i)t.hasOwnProperty(n)||(t[n]=i[n]);var o={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã†":"AE","Ã‡":"C","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã":"D","Ã‘":"N","Ã’":"O","Ã“":"o","Ã”":"O","Ã•":"O","Ã–":"O","Å":"O","Ã˜":"O","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Å°":"U","Ã":"Y","Ãž":"TH","ÃŸ":"ss","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã¦":"ae","Ã§":"c","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã°":"d","Ã±":"n","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Å‘":"o","Ã¸":"o","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Å±":"u","Ã½":"y","Ã¾":"th","Ã¿":"y","Â©":"(c)","Î‘":"A","Î’":"B","Î“":"G","Î”":"D","Î•":"E","Î–":"Z","Î—":"H","Î˜":"8","Î™":"I","Îš":"K","Î›":"L","Îœ":"M","Î":"N","Îž":"3","ÎŸ":"O","Î ":"P","Î¡":"R","Î£":"S","Î¤":"T","Î¥":"Y","Î¦":"F","Î§":"X","Î¨":"PS","Î©":"W","Î†":"A","Îˆ":"E","ÎŠ":"I","ÎŒ":"O","ÎŽ":"Y","Î‰":"H","Î":"W","Îª":"I","Î«":"Y","Î±":"a","Î²":"b","Î³":"g","Î´":"d","Îµ":"e","Î¶":"z","Î·":"h","Î¸":"8","Î¹":"i","Îº":"k","Î»":"l","Î¼":"m","Î½":"n","Î¾":"3","Î¿":"o","Ï€":"p","Ï":"r","Ïƒ":"s","Ï„":"t","Ï…":"y","Ï†":"f","Ï‡":"x","Ïˆ":"ps","Ï‰":"w","Î¬":"a","Î­":"e","Î¯":"i","ÏŒ":"o","Ï":"y","Î®":"h","ÏŽ":"w","Ï‚":"s","ÏŠ":"i","Î°":"y","Ï‹":"y","Î":"i","Åž":"S","Ä°":"I","Äž":"G","ÅŸ":"s","Ä±":"i","ÄŸ":"g","Ð":"A","Ð‘":"B","Ð’":"V","Ð“":"G","Ð”":"D","Ð•":"E","Ð":"Yo","Ð–":"Zh","Ð—":"Z","Ð˜":"I","Ð™":"J","Ðš":"K","Ð›":"L","Ðœ":"M","Ð":"N","Ðž":"O","ÐŸ":"P","Ð ":"R","Ð¡":"S","Ð¢":"T","Ð£":"U","Ð¤":"F","Ð¥":"H","Ð¦":"C","Ð§":"Ch","Ð¨":"Sh","Ð©":"Sh","Ðª":"","Ð«":"Y","Ð¬":"","Ð­":"E","Ð®":"Yu","Ð¯":"Ya","Ð°":"a","Ð±":"b","Ð²":"v","Ð³":"g","Ð´":"d","Ðµ":"e","Ñ‘":"yo","Ð¶":"zh","Ð·":"z","Ð¸":"i","Ð¹":"j","Ðº":"k","Ð»":"l","Ð¼":"m","Ð½":"n","Ð¾":"o","Ð¿":"p","Ñ€":"r","Ñ":"s","Ñ‚":"t","Ñƒ":"u","Ñ„":"f","Ñ…":"h","Ñ†":"c","Ñ‡":"ch","Ñˆ":"sh","Ñ‰":"sh","ÑŠ":"","Ñ‹":"y","ÑŒ":"","Ñ":"e","ÑŽ":"yu","Ñ":"ya","Ð„":"Ye","Ð†":"I","Ð‡":"Yi","Ò":"G","Ñ”":"ye","Ñ–":"i","Ñ—":"yi","Ò‘":"g","ÄŒ":"C","ÄŽ":"D","Äš":"E","Å‡":"N","Å˜":"R","Å ":"S","Å¤":"T","Å®":"U","Å½":"Z","Ä":"c","Ä":"d","Ä›":"e","Åˆ":"n","Å™":"r","Å¡":"s","Å¥":"t","Å¯":"u","Å¾":"z","Ä„":"A","Ä†":"C","Ä˜":"e","Å":"L","Åƒ":"N","Åš":"S","Å¹":"Z","Å»":"Z","Ä…":"a","Ä‡":"c","Ä™":"e","Å‚":"l","Å„":"n","Å›":"s","Åº":"z","Å¼":"z","Ä€":"A","Ä’":"E","Ä¢":"G","Äª":"i","Ä¶":"k","Ä»":"L","Å…":"N","Åª":"u","Ä":"a","Ä“":"e","Ä£":"g","Ä«":"i","Ä·":"k","Ä¼":"l","Å†":"n","Å«":"u"};for(n in t.replacements)e=e.replace(new RegExp(n,"g"),t.replacements[n]);if(t.transliterate)for(n in o)e=e.replace(new RegExp(n,"g"),o[n]);var r=new RegExp("[^a-z0-9à¸-à¹œ]+","ig");return e=(e=(e=(e=e.replace(r,t.delimiter)).replace(new RegExp("["+t.delimiter+"]{2,}","g"),t.delimiter)).substring(0,t.limit)).replace(new RegExp("(^"+t.delimiter+"|"+t.delimiter+"$)","g"),""),t.lowercase?e.toLowerCase():e};var Popup=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"render",value:function(){$("body").on("click",".js-bpopup",(function(e){if($(".js-bpopup").length){e.preventDefault();var t,n=$(e.target).closest(".js-bpopup"),i=n.attr("href");e=$(i);return n.data("target")&&(i=n.data("target"),e=$(i)),n.attr("data-count")&&(t=n.attr("data-count")),e.removeClass("visuallyhidden"),window.iCarWidgets.popup.current=e.bPopup({modalClose:!0,positionStyle:"fixed",onOpen:function(){$("html, body, main").addClass("no--overflow"),window.iCarWidgets.popup.onOpen($(this).attr("class")),$(this).hasClass("modal--dealer-details")&&$(".dealerDetails__modal").cycle("goto",t-1)},onClose:function(){$("html, body, main").removeClass("no--overflow"),window.iCarWidgets.popup.onClose()}}),!1}}))}},{key:"openBPopupTarget",value:function(e,t,n,i){void 0===i||i.target||(i.target=e);var o=$("html, body, main");return window.iCarWidgets.popup.current=e.bPopup({modalClose:!0,positionStyle:"fixed",position:["auto","10%"],onOpen:function(){o.addClass("no--overflow"),window.iCarWidgets.popup.onOpen($(this).attr("class")),"function"==typeof t&&t(i)},onClose:function(){o.removeClass("no--overflow"),window.iCarWidgets.popup.onClose(),"function"==typeof n&&n(i)}}),window.iCarWidgets.popup.current}},{key:"renderTarget",value:function(){var e=this;$("[data-bpopup-target]").on("click",(function(t){t.preventDefault(),t=$(this),(t=$(t.data("bpopup-target"))).removeClass("visuallyhidden"),e.openBPopupTarget(t)}))}},{key:"throwPopupError",value:function(){var e=$(".js-modal-error");this.openBPopupTarget(e,(function(){e.removeClass("visuallyhidden")}),(function(){e.addClass("visuallyhidden")}))}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var ClassifiedListingFeature=function(){function e(){_classCallCheck(this,e),this.doc=$(document),this.body=$("body"),this.html=$("html"),this.loaderConfig={target:"#classified-listings-result"},this.loaderConfig.$target=$(this.loaderConfig.target),this.loader={},this.pageConfig={frozeClass:"no--overflow"},this.page={},this.loaderInit(),this.pageInit()}return _createClass(e,[{key:"loaderInit",value:function(){var e=this;this.loader={show:function(t){var n=e.loaderConfig.$target;void 0!==t&&(n=$(t)),$('<div class="smenu-loading js-loading-screen"><div class="spinner"><span class="bounce  bounce--one"></span><span class="bounce  bounce--two"></span><span class="bounce  bounce--three"></span></div></div>').appendTo(n),e.page.scroll.froze()},hide:function(t){$(".js-loading-screen").remove(),e.page.scroll.unfroze()}}}},{key:"pageInit",value:function(){var e=this;this.page={scroll:{froze:function(){e.html.addClass(e.pageConfig.frozeClass)},unfroze:function(){e.html.removeClass(e.pageConfig.frozeClass)}}}}}]),e}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);return i=t?(n=_getPrototypeOf(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),_possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ListingInspection=function(){_inherits(t,ClassifiedListingFeature);var e=_createSuper(t);function t(n){var i;return _classCallCheck(this,t),(i=e.call(this)).popup=new Popup,i.cModal=".js-modal-inspection",i.cTrigger=".js-listing__open-inspection",i.boot(n),i.trigger=$(i.cTrigger),i.modal=$(i.cModal),i.ajaxUrl="/ajax/get-classified-listing",i}return _createClass(t,[{key:"boot",value:function(){"undefined"!=typeof setup&&(setup.cModal&&$.extend(this.cModal,setup.cModal),setup.cTrigger&&$.extend(this.cTrigger,setup.cTrigger),setup.ajaxUrl&&$.extend(this.ajaxUrl,setup.ajaxUrl))}},{key:"getModal",value:function(e,t,n){var i=this;void 0!==e&&(i.loader.show(),(e=$.ajax({url:i.ajaxUrl,data:{id:e,inspection_preview_modal:!0}})).done((function(){i.loader.hide()})),e.success((function(e){e?(e=iCarFunctions.decrypt(e),"function"==typeof t&&t(e)):i.popup.throwPopupError()})),e.error((function(){"function"==typeof n&&n(),i.popup.throwPopupError()})))}},{key:"modalOpen",value:function(e){var t=this;this.getModal(e,(function(e){$(t.cModal).remove(),t.body.append(e);var n=$(t.cModal);n.removeClass("visuallyhidden"),setTimeout((function(){t.popup.openBPopupTarget(n,null,(function(){$(t.cModal).remove()}))}),0)}))}},{key:"init",value:function(){var e=this;$(e.cTrigger).on("click",(function(t){t.preventDefault(),t=$(this),e.modalOpen(t.data("listing-id"))}))}}]),t}();function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);return i=t?(n=_getPrototypeOf(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),_possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ListingRegistrationCard=function(){_inherits(t,ClassifiedListingFeature);var e=_createSuper(t);function t(n){var i;return _classCallCheck(this,t),(i=e.call(this)).popup=new Popup,i.cModal=".js-reg-card-preview",i.cTrigger=".js-listing__open-registration-card",i.boot(n),i.trigger=$(i.cModal),i.modal=$(i.cTrigger),i.ajaxUrl="/ajax/get-classified-listing",i}return _createClass(t,[{key:"boot",value:function(){"undefined"!=typeof setup&&(setup.cModal&&$.extend(this.cModal,setup.cModal),setup.cTrigger&&$.extend(this.cTrigger,setup.cTrigger),setup.ajaxUrl&&$.extend(this.ajaxUrl,setup.ajaxUrl))}},{key:"getModal",value:function(e,t,n){var i=this;void 0!==e&&(i.loader.show(),(e=$.ajax({url:i.ajaxUrl,data:{id:e,registration_card_preview_modal:!0}})).done((function(){i.loader.hide()})),e.success((function(e){e?(e=iCarFunctions.decrypt(e),"function"==typeof t&&t(e)):i.popup.throwPopupError()})),e.error((function(){"function"==typeof n&&n(),i.popup.throwPopupError()})))}},{key:"modalOpen",value:function(e){var t=this;this.getModal(e,(function(e){$(t.cModal).remove(),t.body.append(e);var n=$(t.cModal);n.removeClass("visuallyhidden"),setTimeout((function(){t.popup.openBPopupTarget(n,null,(function(){$(t.cModal).remove()}))}),0)}))}},{key:"init",value:function(){var e=this;$(e.cTrigger).on("click",(function(t){t.preventDefault(),t=$(this),e.modalOpen(t.data("listing-id"))}))}}]),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}window.iCarClassifiedListing={};var ClassifiedListing=function(){function e(){_classCallCheck(this,e),this.doc=$(document),this.listingInspection=new ListingInspection,this.listingRegistrationCard=new ListingRegistrationCard,this.init()}return _createClass(e,[{key:"init",value:function(){this.listingInspection.init(),this.listingRegistrationCard.init()}}]),e}();function setupSelectBox(){$(".js-non-empty-selectize").on("change",(function(){if(""===$(this).val()){var e=$(this).selectize();try{var t=Object.keys(e[0].selectize.options)[0];e[0].selectize.setValue(e[0].selectize.options[t].value)}catch(e){}}})),window.iCarFunctions.selectize=function(e){var t;$(".js-selectize"+e).each((function(){var e=$(this),n=getAttribute(e,"id",""),i=getAttribute(e,"data-max-items",1),o=getAttribute(e,"data-min-length",""),r=getDataAttribute(e,"create",!1),s=getDataAttribute(e,"allow-empty",!0),a=getDataAttribute(e,"open-onfocus",!0),l=getAttribute(e,"data-load-url",""),c=getAttribute(e,"data-vehicle-type","car"),u=getAttribute(e,"data-selected",""),d=getDataAttribute(e,"onenterkeypress",""),h="string"==typeof d?d:getAttribute(e,"data-suggest",""),p=getAttribute(e,"data-submit",""),f=parseInt(getAttribute(e,"data-range-min",""),10),y=parseInt(getAttribute(e,"data-range-max",""),10),m=parseInt(getAttribute(e,"data-range-special",""),10),g=parseInt(getAttribute(e,"data-range-special-diff",""),10);if(!isNaN(f)&&!isNaN(y)&&f<=y)if("reverse"==getAttribute(e,"data-range-order","normal")){for(t=y;f<=t;t--)e.append($("<option>",{value:t,text:t}));if(!isNaN(m)&&!isNaN(g))for(t=f;m<=t;t-=g)e.append($("<option>",{value:t,text:t}))}else for(t=f;t<=y;t++)e.append($("<option>",{value:t,text:t}));var v=getAttribute(e,"data-readOnly","");a={maxItems:i,allowEmptyOption:s,render:{option_create:function(e,t){return'<div class="create"><strong>'+t(e.input)+"</strong></div>"}},create:r,createOnBlur:r,openOnFocus:a,closeAfterSelect:!0,selectOnTab:!0};!isNaN(y)&&0<y&&(a.maxOptions=y),v&&(a.readOnly=!0),o&&(a.create=!0,a.createFilter=function(e){return e.length>=o},a.score=function(e){var t=!(e&&!(e&&e.length<o)),n=this.getScoreFunction(e);return function(e){return t?0:n(e)}}),d&&(a.plugins=["restore_on_space"],a.onChange=function(e){var t;""===e?selectedSuggestion[h]="":(t=e.toLowerCase(),selectedSuggestion[h]=void 0===suggestions[h][t]?!0===d?e:"":suggestions[h][t]),(""!==p&&!0!==d&&e||!0===d&&e&&selectedSuggestion[h]==suggestions[h][e.toLowerCase()]&&selectedSuggestion[h]==e)&&$(p).submit()}),l&&(a.valueField=getAttribute(e,"data-value-field","title"),a.labelField=getAttribute(e,"data-label-field","title"),a.searchField=getAttribute(e,"data-search-field","title"));var _,b;a=e.selectize(a);""!==u&&a[0].selectize.setValue(u),e.data("onload-focus")&&a[0].selectize.focus(),l&&(_=a[0].selectize).load((function(e){b&&b.abort(),b=$.ajax({type:"GET",url:l,data:{vehicle_type:c},cache:!0,dataType:"json",success:function(e){for(t in e)""!==h&&(suggestions[h][e[t].toLowerCase()]=t),_.addOption({title:e[t]})},error:function(){e()}})})),window.iCarWidgets.selectize[n]=a[0].selectize}))},window.iCarFunctions.selectize("")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}$("body").hasClass("theme--listing")&&(window.iCarClassifiedListing=new ClassifiedListing);var Form=function(){function e(){_classCallCheck(this,e),console.log("Form","containers")}return _createClass(e,[{key:"setup",value:function(){$(".js-form-validation").on("submit",(function(t){var n=!1,i=$(this),o=$("[type='submit']",i),r=$(".js-form-success",i),s=$(".js-form-error-common",i),a=$(".js-form-error",i);if(e.toggleFormActionButton(o,!1),r.addClass("visuallyhidden u-hide"),a.addClass("visuallyhidden u-hide"),$(".input",i).removeClass("input--error"),!function(e,t){return!(""!==(e=getAttribute(e,"data-require",""))&&0<(t=$('*[name="'+e+'"]',t)).length&&isValidInputTag(t)&&""===t.val())}(o,i)&&(n=!0),$(".js-form-element-required",i).each((function(){var e,t,o;isValidInputTag($(this))&&(o=!1,t=(e=$(this)).attr("data-pattern"),"checkbox"==e.attr("type")?o=!e.is(":checked"):t?o=!new RegExp(t,"ig").test(e.val()):""===e.val()&&(o=!0),o&&(n=!0,(o=$(".js-error-"+e.attr("name"),i)).html(e.attr("data-error")),o.removeClass("visuallyhidden u-hide"),e[0].selectize&&"checkbox"!==e.attr("type")?e[0].selectize.$control.addClass("input--error  is--error"):(e.is(":visible")&&e.focus(),e.addClass("input--error  is--error")),e.attr("data-groupclass-required")&&e.parents(".form-group").addClass(e.attr("data-groupclass-required"))))})),$(".js-form-element-optional",i).each((function(){var e,t,o;isValidInputTag($(this))&&(o=!1,""===(e=$(this)).val()||" "===e.val()||(o=(t=e.attr("data-pattern"))?!new RegExp(t,"ig").test(e.val()):o)&&(n=!0,o=$(".js-error-"+e.attr("name"),i),e.is(":visible")&&e.focus(),e.addClass("input--error"),o.html(e.attr("data-error")),o.removeClass("visuallyhidden u-hide")))})),$(".js-form-element-depends",i).each((function(){if(isValidInputTag($(this))){var e=!1,t=$(this),o=t.attr("data-target"),r=t.attr("data-target-relation");if(o&&(o=$(o)).length){var s=parseInt(t.val(),10),a=parseInt(o.val(),10);if($.isNumeric(s)&&$.isNumeric(a))switch(r){case"lt":e=a<=s;break;case"lte":e=a<s;break;case"gt":e=s<=a;break;case"gte":e=s<a}e&&(n=!0,r=$(".js-error-"+t.attr("name"),i),t.is(":visible")&&t.focus(),t.addClass("input--error"),r.html(t.attr("data-target-error")),r.removeClass("visuallyhidden u-hide"))}}})),n)return i.attr("form-validation","failed"),e.toggleFormActionButton(o,!0),t.preventDefault(),!1;if(i.hasClass("js-form-ajax")){var l=i.attr("data-target")?i.attr("data-target"):i.attr("action"),c=i.attr("data-method")?i.attr("data-method"):i.attr("method"),u=i.attr("data-dataType")?i.attr("data-dataType"):"json";window.dataForm=i;var d=window[i.attr("data-loader-callback")];"function"==typeof d&&d();var h=window[i.attr("data-success-callback")];a=i.data("accept-header");return"function"!=typeof h&&(h=function(e){0<r.length&&(r.removeClass("visuallyhidden u-hide"),r.html(e.message)),0<(e=$(".js-form-container",i)).length&&(e.addClass("visuallyhidden u-hide"),$("html, body").animate({scrollTop:e.offset().top-60},1500))}),"function"!=typeof(d=window[i.attr("data-failure-callback")])&&(d=function(){s.removeClass("visuallyhidden u-hide"),e.toggleFormActionButton(o,!0)}),d={url:l||"",type:c,data:i.serializeArray(),dataType:u,success:h,error:d},a&&(d.accepts=a),$.ajax(d),t.preventDefault(),!1}return i.attr("form-validation","succeed"),!i.hasClass("js-no-submit")}))}},{key:"callbackNewsletter",value:function(){window.newsletterCallback=function(t){1==t.status||2==t.status?$(".js-form-success").removeClass("visuallyhidden u-hide").html(t.message):($(".js-form-error-common").removeClass("visuallyhidden u-hide").html(t.message),e.toggleFormActionButton($(".js-form-submit-btn"),!0))}}}],[{key:"toggleFormActionButton",value:function(e,t){var n=e.attr("data-enabled-text"),i=e.attr("data-disabled-text");t?(e.removeAttr("disabled"),n&&e.html(n)):(e.attr("disabled","disabled"),i&&e.html(i))}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Accordion=function(){function e(){_classCallCheck(this,e),console.log("Accordion","components")}return _createClass(e,[{key:"render",value:function(){$(".js--accordion").find(".js-accordion__toggle").click((function(e){e.preventDefault(),(e=(e=$(this).next(".js-accordion__content")).length?e:$(this).children(".js-accordion__content")).addClass("accordion__content--active",2e3,"slideToggle"),$(".js-accordion__content").not(e).removeClass("accordion__content--active",2e3,"slideUp"),$(".js-accordion__toggle").removeClass("accordion__toggle--active"),$(this).addClass("accordion__toggle--active")}))}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Social=function(){function e(){_classCallCheck(this,e),console.log("Social","components")}return _createClass(e,[{key:"render",value:function(){$(".js--social").on("click",(function(e){return e.preventDefault(),window.open($(this).attr("data-url"),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=500"),!1}))}},{key:"renderListing",value:function(){$(".js-listing__share").on("click",(function(e){return e.preventDefault(),(e=$(".modal--social")).removeClass("visuallyhidden"),window.iCarWidgets.popup.current=e.bPopup({modalClose:!0,position:["auto","20%"],positionStyle:"fixed",onOpen:function(){$("html, body").addClass("no--overflow"),window.iCarWidgets.popup.onOpen($(this).attr("class"))},onClose:function(){$("html, body").removeClass("no--overflow"),window.iCarWidgets.popup.onClose()}}),!1}))}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Toggler=function(){function e(){_classCallCheck(this,e),console.log("Toggler","components")}return _createClass(e,[{key:"render",value:function(){$(".js-toggler").on("click",(function(e){e.preventDefault();var t=$(this),n=$(t.attr("data-target"));e=t.data("toggle-class")?t.data("toggle-class"):"visuallyhidden  u-hide";t.attr("data-push-down")?n.toggle():n.toggleClass(e),t.toggleClass("toggler--active"),n=$(".toggler__icon",t),(e=t.attr("data-title"))?(t.attr("data-title",t.html()),t.html(e)):n.hasClass("icon--down-open")?(n.removeClass("icon--down-open"),n.addClass("icon--up-open")):(n.removeClass("icon--up-open"),n.addClass("icon--down-open")),n=t.attr("data-remember-action"),t=t.attr("data-remember-time"),n&&t&&$.cookie(n,"remember",{expires:parseInt(t),path:"/"})}))}},{key:"renderTab",value:function(){$(".js-toggler-tab").each((function(){var e=$(this),t=e.find("[data-toggler-tab-target]"),n=e.find(".toggler-tab__panel"),i="toggler-tab__panel--visuallyhidden",o=e.data("toggler-tab-default");t.on("click",(function(r){if(r.preventDefault(),r=$(this).data("toggler-tab-target"),r=$(r),o)return t.removeClass("btn--selected").addClass("btn--unselected"),$(this).removeClass("btn--unselected").addClass("btn--selected"),n.addClass(i),void r.removeClass(i);r.toggleClass(i),r=r,0===e.find("."+i).length&&(n.addClass(i),r.removeClass(i))}))}))}},{key:"renderDealer",value:function(){$(".js-list-locations").each((function(){var e=$(this);5<e.find(".item").length&&e.siblings(".js-toggle-list").removeClass("hidden")})),$(".js-toggler-dealer").each((function(){$(this).on("click",(function(){var e=$(this),t=e.find(".action-text"),n=e.closest(".js-toggle-list").prev(".js-list-locations"),i=t.data("show-more"),o=t.data("show-less");n.hasClass("list--collapse")?(n.animate({"max-height":"2000px"},"medium").removeClass("list--collapse"),e.find(".icon").removeClass("icon--down-open").addClass("icon--up-open"),t.text(o)):($("html, body").animate({scrollTop:e.parents(".grid__item").offset().top-65},1e3),n.animate({"max-height":"204px"},"medium").addClass("list--collapse"),e.find(".icon").removeClass("icon--up-open").addClass("icon--down-open"),t.text(i))}))}))}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var StickyBar=function(){function e(){_classCallCheck(this,e),console.log("Sticky Bar","containers")}return _createClass(e,[{key:"render",value:function(){$(window).on("load",(function(){!function(){var e,t,n,i=$("body"),o=$(".js-listings__fixed-left--sticky-top");o.length&&i.hasClass("body__listings__fixed-left--sticky-top")&&(e=0,t=o.offset().top+o.outerHeight(),$(window).on("scroll",(function(){n=!0})),setInterval((function(){n&&($(window).on("scroll",(function(){var n=$(this).scrollTop();Math.abs(e-n)<=5||(t<n?i.addClass("body__listings__fixed-left--sticky-top--active"):i.removeClass("body__listings__fixed-left--sticky-top--active body--scroll-up body--scroll-down"),e<n&&t<n?(i.addClass("body--scroll-down"),i.removeClass(" body--scroll-up")):(i.addClass("body--scroll-up"),i.removeClass("body--scroll-down")),e=n)})),n=!1)}),250))}()})),$(window);var e,t,n,i=$("body"),o=$(".js-header--sticky-top");o.length&&i.hasClass("body__header--sticky-top")&&(e=0,t=o.outerHeight(),$(window).on("scroll",(function(){n=!0})),setInterval((function(){n&&($(window).on("scroll",(function(){var n=$(this).scrollTop();Math.abs(e-n)<=5||(e<n&&t<n?(i.addClass("body--scroll-down"),i.removeClass("body--scroll-up  body__header--sticky-top--active")):(i.addClass("body--scroll-up  body__header--sticky-top--active"),i.removeClass("body--scroll-down")),(0===n||n<t)&&i.removeClass("body__header--sticky-top--active"),e=n)})),n=!1)}),250)),$(window).on("load",(function(){!function(){var e,t,n,i,o=$("body"),r=$(".element-sticky-bottom");r.length&&o.hasClass("body__has-element-sticky-bottom")&&(e=0,t=r.outerHeight(),i=r.attr("data-element-sticky-offset")?r.attr("data-element-sticky-offset"):0,(r=$(".js-element-sticky-bottom-offset")).length&&(i=r.offset().top+t),o.css("padding-bottom",t+"px"),$(window).on("scroll",(function(){n=!0})),setInterval((function(){n&&($(window).on("scroll",(function(){var t=$(this).scrollTop();Math.abs(e-t)<=5||(o.addClass("body--scroll-down"),o.removeClass("body--scroll-up"),i<t?o.addClass("body__has-element-sticky-bottom--active"):o.removeClass("body__has-element-sticky-bottom--active"),e=t)})),n=!1)}),250))}()}))}}]),e}();function legacyCode(){console.log("Legacy","containers")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var NewsHero=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"render",value:function(){var e=this;$(".js-hero__ad--news").length&&(e.featuredArticleSticky(),$(".hero__ad").on("cycle-next cycle-prev",(function(e,t){t=t.slideNum,t=$(".js-hero--news__pagination-item--"+t),$("#featured__group--0"),$("#featured__group--1"),$(".hero--news__pagination-item").removeClass("hero--news__pagination-item--selected"),t.addClass("hero--news__pagination-item--selected")})),$(".hero__ad").on("cycle-after",(function(t,n){var i=n.slideNum;n=$(".js-hero--news__pagination-item--"+i);$(".hero--news__pagination-item").removeClass("hero--news__pagination-item--selected"),n.addClass("hero--news__pagination-item--selected"),6==i||10==i?($('[name="featured_article_pagination"]').removeAttr("checked"),$("#featured-slide-2").prop("checked",!0)):1!=i&&5!=i||($('[name="featured_article_pagination"]').removeAttr("checked"),$("#featured-slide-1").prop("checked",!0)),"tablet"==window.adSubDevice&&e.resetFeaturedArticlePaginationPosition()})),$('label[for="featured-slide-2"]').on("click",(function(){$(".hero--news__pagination-item").removeClass("hero--news__pagination-item--selected"),$(".js-hero--news__pagination-item--6").addClass("hero--news__pagination-item--selected"),$(".hero__ad").cycle("goto",5)})),$('label[for="featured-slide-1"]').on("click",(function(){$(".hero--news__pagination-item").removeClass("hero--news__pagination-item--selected"),$(".js-hero--news__pagination-item--1").addClass("hero--news__pagination-item--selected"),$(".hero__ad").cycle("goto",0)})),$(".js-hero--news__pagination-item").on("mouseover",(function(e){var t=$(this).data("index");$(".hero--news__pagination-item").removeClass("hero--news__pagination-item--selected"),$(this).addClass("hero--news__pagination-item--selected"),$(".hero__ad").cycle("goto",t-1)})),$(".hero__ad").on("cycle-before",(function(e,t,n,i){$(i).hasClass("hero__ad-sponsored")?setTimeout((function(){$(".js-hero__ad--news").addClass("hero__sponsored")}),400):setTimeout((function(){$(".js-hero__ad--news").removeClass("hero__sponsored")}),100)})))}},{key:"featuredArticleSticky",value:function(){var e=this,t=$(".news__navbar"),n=t.outerHeight()+t.offset().top,i=!1;$(window).on("scroll",(function(){i=!0})),setInterval((function(){i&&(e.onScrollAction(n),i=!1)}),250)}},{key:"onScrollAction",value:function(e){$(window).on("scroll",(function(){var t=$(this).scrollTop();e<t?$("body").addClass("featured-article--sticky"):$("body").removeClass("featured-article--sticky")}))}},{key:"resetFeaturedArticlePaginationPosition",value:function(){var e=$(".js-hero--news__pagination");e.length&&setTimeout((function(){var t=e.offset(),n=e.scrollLeft(),i=$(".visuallyhidden--desk .js-hero--news__pagination-item"),o=$(".visuallyhidden--desk .hero--news__pagination-item--selected").offset(),r=(s=$(window)).width(),s=(s.height(),i.width());i.height(),r={tablet:{scrollLeft:o.left-t.left+n-(r-s)/2}},s="tablet"===window.adSubDevice?"tablet":"desktop";return e.stop().animate(r[s],500)}),300)}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var NewsStickyNavbar=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"render",value:function(){var e=$(".theme--news-landing"),t=$(".news--finder"),n=(t.offset(),t.outerHeight()),i=$(".news__navbar"),o=i.offset(),r=i.outerHeight()+20;$(window).on("scroll",(function(){!e.length||"mobile"!==window.adDevice&&"tablet"!==window.adSubDevice||($(document).scrollTop()>o.top-n?$(".js-sticky-ads").hasClass("is_stuck")||(i.addClass("news__navbar-fixed"),i.closest(".container").attr("style","padding-top:"+r+"px !important")):(i.removeClass("news__navbar-fixed"),i.closest(".container").css("padding-top","")))}))}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var NewsStickyDFPLeaderBoard=function(){function e(){_classCallCheck(this,e),this.stickyDFP=$(".js-sticky-mobile-ads"),this.stickyOffset=this.stickyDFP.data("mobile-offset")}return _createClass(e,[{key:"render",value:function(){var e,t=this,n=!0;"mobile"===window.adDevice&&$("body").hasClass("theme--my")&&$(window).scroll((function(){n&&$(window).scrollTop()>=t.stickyOffset&&(t.stickyDFP.addClass("sticky"),clearTimeout(e),e=setTimeout((function(){t.stickyDFP.addClass("animate"),setTimeout((function(){t.stickyDFP.removeClass("sticky animate")}),1e3)}),2200),n=!1),$(window).scrollTop()<t.stickyOffset&&(n=!0)}))}}]),e}();function newsSetup(){var e,t,n,i,o;console.log("News Setup","containers"),$.each(["youtube","facebook","vimeo"],(function(e,t){$(".article__story-more iframe[src*="+t+"]").parent().addClass("embed-container "+t)})),0<$(".js-addthis_native_toolbox").length&&(e=$(".js-addthis_native_toolbox").data("addthis-publication-id"),window.addthis_config=window.addthis_config||{},window.addthis_config.pubid=e,document.getElementsByTagName("html")[0].getAttribute("lang")&&(window.addthis_config.lang=document.getElementsByTagName("html")[0].getAttribute("lang")),(e=document.createElement("script")).src="//s7.addthis.com/js/300/addthis_widget.js#domready=1",e.async=!0,e.id="addthisapitest",document.body.appendChild(e)),0<$(".js-details-counter").length&&(t=$(".js-details-counter").data("details-counter-id"),$.ajax({url:"/ajax/newscounter",data:{nid:t}})),0<$(".js-news-article-id").length&&(t=$(".js-news-article-id").data("news-article-id"),$.ajax({url:"/ajax/newscounter",type:"GET",data:{nid:t}}),0<(t=$('.article__story-more iframe[src*="youtube"]')).length&&t.parent().addClass("embed-container")),"desktop"===window.adDevice&&(n=$(".js-news-ads-desktop"),i=n.parents(".three-tenths"),(o=i.siblings(".grid__item").height())>i.height()+50&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){var e;window.googletag.pubadsReady?o>i.height()&&(e=10,$(".theme--news-landing .editors-pick--sticky").length&&(e=105),StickyDFP.manual({element:n,offset:e,parent:".container"})):window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){n.data("stickied")||n.find("#"+e.slot.getSlotElementId()).length&&o>i.height()&&(e=10,$(".theme--news-landing .editors-pick--sticky").length&&(e=105),StickyDFP.manual({element:n,offset:e,parent:".container"}),n.data("stickied",!0))}))})))),(new NewsHero).render(),(new NewsStickyNavbar).render(),"mobile"===window.adDevice&&$("body").hasClass("theme--my")&&setTimeout((function(){$(".js-sticky-mobile-ads").css("min-height",$(".js-sticky-mobile-ads").find(".ad-container").outerHeight()+20)}),300);var r=$(".js-featured-video-btn"),s=$(".js-featured-video-modal"),a=$("body");r.on("click",(function(e){e.preventDefault();var t=r.data("video-url"),n=r.data("title");s.find("iframe").attr("src",t),s.removeClass("visuallyhidden"),s.bPopup({onOpen:function(){a.addClass("no--overflow"),s.find("iframe").attr("src",t),s.find(".modal__title").html(n)},onClose:function(){a.removeClass("no--overflow"),s.find("iframe").attr("src","")}})}))}function sponsorSideMenuRender(){console.log("Sponsors","containers"),window.Sponsor={smenuPositionFix:!1},$(".body--sponsor-smenu").length&&$(window).on("scroll",(function(){var e=$(this),t=$("body");$(".smenu"),console.log("smenu",e.scrollTop()),564<e.scrollTop()&&!window.Sponsor.smenuPositionFix?(t.removeClass("body--sponsor-smenu"),console.log("smenu","remove body--sponsor-smenu")):(t.addClass("body--sponsor-smenu"),console.log("smenu","add body--sponsor-smenu"))}))}function populateHelpCategories(){var e,t,n;console.log("Populate Help Categories","container"),0<$(".help-content").length&&(e=$(".js-help-category-topics").data("help-category-topics"),$("#js-category").selectize({onChange:function(n){n.length&&(t.disable(),t.clearOptions(),t.load((function(){t.enable();var i=e[n];if(0<Object.keys(i).length)for(var o in i)t.addOption({value:o,name:i[o]})})))}}),n=$("#js-topic").selectize({valueField:"value",labelField:"name",searchField:["name"]}),(t=n[0].selectize).disable())}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Maps=function(){function e(){_classCallCheck(this,e),console.log("Maps","containers")}return _createClass(e,[{key:"render",value:function(){window.iCarAsiaParameters.mapLanguage=window.params.mapLanguage;var e=$(".js-dealer-map").data("enablemap"),t=$(".js-dealer-map").data("newmap");!0===e&&(!0===t?$(".js-map").on("click",(function(e){e.preventDefault(),$(".js-modal-map").removeClass("u-hide"),void 0===window.gMapsLoaded?window.loadGoogleMaps():window.loadGoogleMapsInit()})):$(".dealerDetails__modal").on("cycle-after",(function(e,t,n,i,o){"map"==$(i).data("slide-type")&&(void 0===window.gMapsLoaded?window.loadGoogleMaps():window.loadGoogleMapsInit())})),window.loadGoogleMaps=function(){window.gMapsLoaded=!0;var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+window.iCarAsiaParameters.googleMapKey+"&callback=window.loadGoogleMapsInit"),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)},window.loadGoogleMapsInit=function(){var e=$(".js-dealer-map").data("mapconfig"),t=new google.maps.LatLng(e.P_lat,e.P_lng),n={zoom:e.level,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(document.getElementById("map"),n),o=(n='<div style="color:Red ; text-align:center; font-weight:bold; font-size:20px; margin-top:10px; margin-left:5px; margin-bottom:10px; height:auto;">'+e.dealerName+'<div style="color:#000000 ; text-align:center; font-size:14px; margin-top:3px; "><br/>'+window.iCarAsiaParameters.mapLanguage["Phone Number"]+":"+e.phone+"</div></div>",e={url:e.url,size:new google.maps.Size(57,60),anchor:new google.maps.Point(12,62),origin:new google.maps.Point(0,0)},new google.maps.Marker({position:t,map:i,icon:e})),r=new google.maps.InfoWindow({content:n,maxWidth:250});r.open(i,o),google.maps.event.addListener(o,"click",(function(){setTimeout((function(){$("img[src$='iws3.png']").hide()}),80),r.open(i,o)})),o.setMap(i),google.maps.event.addDomListener(window,"load",window.loadGoogleMapsInit)})}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,(function(){var e="7.1.0",t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o={},r=Object.freeze({default:o}),s=void 0!==t?t:"undefined"!=typeof window?window:{};function a(e,t){var n,o=c.levels[u],r=new RegExp("^("+o+")$");"log"!==e&&t.unshift(e.toUpperCase()+":"),d&&d.push([].concat(t)),t.unshift("VIDEOJS:"),i.console&&(n=(n=i.console[e])||"debug"!==e?n:i.console.info||i.console.log)&&o&&r.test(e)&&n[Array.isArray(t)?"apply":"call"](i.console,t)}"undefined"!=typeof document?Lt=document:(Lt=s["__GLOBAL_DOCUMENT_CACHE@4"])||(Lt=s["__GLOBAL_DOCUMENT_CACHE@4"]=r&&o);var l=Lt,c=void 0,u="info",d=[];(c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a("log",t)}).levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:u},c.level=function(e){if("string"==typeof e){if(!c.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');u=e}return u},c.history=function(){return d?[].concat(d):[]},c.history.clear=function(){d&&(d.length=0)},c.history.disable=function(){null!==d&&(d.length=0,d=null)},c.history.enable=function(){null===d&&(d=[])},c.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a("error",t)},c.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a("warn",t)},c.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a("debug",t)};var h=c,p=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return t},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},g=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},v=function(e,t){return e.raw=t,e},_=Object.prototype.toString,b=function(e){return k(e)?Object.keys(e):[]};function w(e,t){b(e).forEach((function(n){return t(e[n],n)}))}function C(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach((function(t){t&&w(t,(function(t,n){e[n]=t}))})),e)}function k(e){return!!e&&"object"===(void 0===e?"undefined":f(e))}function T(e){return k(e)&&"[object Object]"===_.call(e)&&e.constructor===Object}function S(e,t){return e&&t?"function"!=typeof i.getComputedStyle?"":(e=i.getComputedStyle(e))?e[t]:"":""}var E=v(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function j(e){return"string"==typeof e&&/\S/.test(e)}function x(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function $(){return l===i.document}function P(e){return k(e)&&1===e.nodeType}function M(){try{return i.parent!==i.self}catch(e){return!0}}function A(e){return function(t,n){return j(t)?(n=P(n=j(n)?l.querySelector(n):n)?n:l)[e]&&n[e](t):l[e](null)}}function O(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=l.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(h.warn(p(E,e,n)),o.setAttribute(e,n)):"textContent"===e?D(o,n):o[e]=n})),Object.getOwnPropertyNames(n).forEach((function(e){o.setAttribute(e,n[e])})),i&&Z(o,i),o}function D(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function I(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function F(e,t){return x(t),e.classList?e.classList.contains(t):new RegExp("(^|\\s)"+t+"($|\\s)").test(e.className)}function B(e,t){return e.classList?e.classList.add(t):F(e,t)||(e.className=(e.className+" "+t).trim()),e}function N(e,t){return e.classList?e.classList.remove(t):(x(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function L(e,t,n){var i=F(e,t);if((n="boolean"!=typeof(n="function"==typeof n?n(e,t):n)?!i:n)!==i)return(n?B:N)(e,t),e}function R(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)}))}function H(e){var t={};if(e&&e.attributes&&0<e.attributes.length)for(var n=e.attributes,i=n.length-1;0<=i;i--){var o=n[i].name,r=n[i].value;"boolean"!=typeof e[o]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+o+",")||(r=null!==r),t[o]=r}return t}function z(e,t){return e.getAttribute(t)}function V(e,t,n){e.setAttribute(t,n)}function W(e,t){e.removeAttribute(t)}function U(){l.body.focus(),l.onselectstart=function(){return!1}}function K(){l.onselectstart=function(){return!0}}function q(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(S(e,"height"))),n.width||(n.width=parseFloat(S(e,"width"))),n}}function G(e){var t=void 0;if(!(t=e.getBoundingClientRect&&e.parentNode?e.getBoundingClientRect():t))return{left:0,top:0};var n=l.documentElement,o=l.body,r=n.clientLeft||o.clientLeft||0;e=i.pageXOffset||o.scrollLeft,r=t.left+e-r,n=n.clientTop||o.clientTop||0,o=i.pageYOffset||o.scrollTop,n=t.top+o-n;return{left:Math.round(r),top:Math.round(n)}}function X(e,t){var n={},i=G(e),o=e.offsetWidth,r=e.offsetHeight,s=i.top,a=i.left;e=t.pageY,i=t.pageX;return t.changedTouches&&(i=t.changedTouches[0].pageX,e=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-e+r)/r)),n.x=Math.max(0,Math.min(1,(i-a)/o)),n}function Y(e){return k(e)&&3===e.nodeType}function Q(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function J(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return P(e="function"==typeof e?e():e)||Y(e)?e:"string"==typeof e&&/\S/.test(e)?l.createTextNode(e):void 0})).filter((function(e){return e}))}function Z(e,t){return J(t).forEach((function(t){return e.appendChild(t)})),e}function ee(e,t){return Z(Q(e),t)}function te(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||0===e.button&&1===e.buttons}var ne=A("querySelector"),ie=A("querySelectorAll"),oe=Object.freeze({isReal:$,isEl:P,isInFrame:M,createEl:O,textContent:D,prependTo:I,hasClass:F,addClass:B,removeClass:N,toggleClass:L,setAttributes:R,getAttributes:H,getAttribute:z,setAttribute:V,removeAttribute:W,blockTextSelection:U,unblockTextSelection:K,getBoundingClientRect:q,findPosition:G,getPointerPosition:X,isTextNode:Y,emptyEl:Q,normalizeContent:J,appendContent:Z,insertContent:ee,isSingleLeftClick:te,$:ne,$$:ie}),re=1,se={},ae="vdata"+(new Date).getTime();function le(e){var t=(t=e[ae])||(e[ae]=re++);return se[t]||(se[t]={}),se[t]}function ce(e){return(e=e[ae])&&Object.getOwnPropertyNames(se[e]).length}function ue(e){var t=e[ae];if(t){delete se[t];try{delete e[ae]}catch(t){e.removeAttribute?e.removeAttribute(ae):e[ae]=null}}}function de(e,t){var n=le(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ue(e)}function he(e,t,n,i){n.forEach((function(n){e(t,n,i)}))}function pe(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var o,r,s,a=e||i.event;for(o in e={},a)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&a.preventDefault||(e[o]=a[o]));e.target||(e.target=e.srcElement||l),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){a.preventDefault&&a.preventDefault(),e.returnValue=!1,a.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),e.cancelBubble=!0,a.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX&&(r=l.documentElement,s=l.body,e.pageX=e.clientX+(r&&r.scrollLeft||s&&s.scrollLeft||0)-(r&&r.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||s&&s.scrollTop||0)-(r&&r.clientTop||s&&s.clientTop||0)),e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var fe=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){fe=!0}});i.addEventListener("test",null,e),i.removeEventListener("test",null,e)}catch(e){}}();var ye=["touchstart","touchmove"];function me(e,t,n){if(Array.isArray(t))return he(me,e,t,n);var i=le(e);i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=re++),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(!i.disabled){t=pe(t);var o=i.handlers[t.type];if(o)for(var r=o.slice(0),s=0,a=r.length;s<a&&!t.isImmediatePropagationStopped();s++)try{r[s].call(e,t,n)}catch(t){h.error(t)}}}),1===i.handlers[t].length&&(e.addEventListener?(n=!1,fe&&-1<ye.indexOf(t)&&(n={passive:!0}),e.addEventListener(t,i.dispatcher,n)):e.attachEvent&&e.attachEvent("on"+t,i.dispatcher))}function ge(e,t,n){if(ce(e)){var i=le(e);if(i.handlers){if(Array.isArray(t))return he(ge,e,t,n);function o(e,t){i.handlers[t]=[],de(e,t)}if(void 0!==t){var r=i.handlers[t];if(r)if(n){if(n.guid)for(var s=0;s<r.length;s++)r[s].guid===n.guid&&r.splice(s--,1);de(e,t)}else o(e,t)}else for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&o(e,a)}}}function ve(e,t,n){var i=ce(e)?le(e):{},o=e.parentNode||e.ownerDocument;return"string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=pe(t),i.dispatcher&&i.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&!0===t.bubbles?ve.call(null,o,t,n):o||t.defaultPrevented||(o=le(t.target),t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)),!t.defaultPrevented}function _e(e,t,n){if(Array.isArray(t))return he(_e,e,t,n);function i(){ge(e,t,i),n.apply(this,arguments)}i.guid=n.guid=n.guid||re++,me(e,t,i)}var be=Object.freeze({fixEvent:pe,on:me,off:ge,trigger:ve,one:_e}),we=!1,Ce=void 0,ke=function(){if($()&&!1!==Ce.options.autoSetup){var e=Array.prototype.slice.call(l.getElementsByTagName("video")),t=Array.prototype.slice.call(l.getElementsByTagName("audio")),n=Array.prototype.slice.call(l.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&0<i.length)for(var o=0,r=i.length;o<r;o++){var s=i[o];if(!s||!s.getAttribute){Te(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&Ce(s)}else we||Te(1)}};function Te(e,t){t&&(Ce=t),i.setTimeout(ke,e)}function Se(e){var t=l.createElement("style");return t.className=e,t}function Ee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}function je(){}$()&&"complete"===l.readyState?we=!0:_e(i,"load",(function(){we=!0}));var xe=function(e,t,n){function i(){return t.apply(e,arguments)}return t.guid||(t.guid=re++),i.guid=n?n+"_"+t.guid:t.guid,i},$e=function(e,t){var n=Date.now();return function(){var i=Date.now();t<=i-n&&(e.apply(void 0,arguments),n=i)}};function Pe(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length}function Me(e){if(!e.nodeName&&!Fe(e))throw new Error("Invalid target; must be a DOM node or evented object.")}function Ae(e){if(!Pe(e))throw new Error("Invalid event type; must be a non-empty string or array.")}function Oe(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")}function De(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,i=void 0,o=void 0,r=void 0;r=n?(i=e.eventBusEl_,3<=t.length&&t.shift(),o=t[0],t[1]):(i=t[0],o=t[1],t[2]);return Me(i),Ae(o),Oe(r),{isTargetingSelf:n,target:i,type:o,listener:r=xe(e,r)}}function Ie(e,t,n,i){Me(e),e.nodeName?be[t](e,n,i):e[t](n,i)}je.prototype.allowedEvents_={},je.prototype.addEventListener=je.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},me(this,e,t),this.addEventListener=n},je.prototype.removeEventListener=je.prototype.off=function(e,t){ge(this,e,t)},je.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},_e(this,e,t),this.addEventListener=n},je.prototype.dispatchEvent=je.prototype.trigger=function(e){var t=e.type||e;e=pe(e="string"==typeof e?{type:t}:e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),ve(this,e)};var Fe=function(e){return e instanceof je||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},Be={on:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o,r=De(this,n),s=r.isTargetingSelf,a=r.target,l=r.type,c=r.listener;Ie(a,"on",l,c),s||((o=function(){return e.off(a,l,c)}).guid=c.guid,(s=function(){return e.off("dispose",o)}).guid=c.guid,Ie(this,"on","dispose",o),Ie(a,"on","dispose",s))},one:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=De(this,n),r=o.isTargetingSelf,s=o.target,a=o.type,l=o.listener;r?Ie(s,"one",a,l):((r=function t(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];e.off(s,a,t),l.apply(null,i)}).guid=l.guid,Ie(s,"one",a,r))},off:function(e,t,n){!e||Pe(e)?ge(this.eventBusEl_,e,t):(t=t,Me(e=e),Ae(t),Oe(n),n=xe(this,n),this.off("dispose",n),e.nodeName?(ge(e,t,n),ge(e,"dispose",n)):Fe(e)&&(e.off(t,n),e.off("dispose",n)))},trigger:function(e,t){return ve(this.eventBusEl_,e,t)}};function Ne(e,t){var n=(1<arguments.length&&void 0!==t?t:{}).eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=O("span",{className:"vjs-event-bus"});return C(e,Be),e.on("dispose",(function(){e.off(),i.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Le={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var n=void 0;return w(e,(function(e,i){t.state[i]!==e&&((n=n||{})[i]={from:t.state[i],to:e}),t.state[i]=e})),n&&Fe(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function Re(e,t){return C(e,Le),e.state=C({},e.state,t),"function"==typeof e.handleStateChanged&&Fe(e)&&e.on("statechanged",e.handleStateChanged),e}function He(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function ze(){for(var e={},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&w(t,(function(t,n){T(t)?(T(e[n])||(e[n]={}),e[n]=ze(e[n],t)):e[n]=t}))})),e}var Ve=(We.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ue(this.el_),this.el_=null),this.player_=null},We.prototype.player=function(){return this.player_},We.prototype.options=function(e){return h.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=ze(this.options_,e)),this.options_},We.prototype.el=function(){return this.el_},We.prototype.createEl=function(e,t,n){return O(e,t,n)},We.prototype.localize=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),r=o&&o[i];i=i&&i.split("-")[0],i=o&&o[i],n=n;return r&&r[e]?n=r[e]:i&&i[e]&&(n=i[e]),t?n.replace(/\{(\d+)\}/g,(function(e,n){return void 0===(n=t[n-1])?e:n})):n},We.prototype.contentEl=function(){return this.contentEl_||this.el_},We.prototype.id=function(){return this.id_},We.prototype.name=function(){return this.name_},We.prototype.children=function(){return this.children_},We.prototype.getChildById=function(e){return this.childIndex_[e]},We.prototype.getChild=function(e){if(e)return e=He(e),this.childNameIndex_[e]},We.prototype.addChild=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof e){o=He(e);var r=t.componentClass||o;t.name=o;var s=We.getComponent(r);if(!s)throw new Error("Component "+r+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,t)}else i=e;return this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&He(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()&&(n=this.contentEl(